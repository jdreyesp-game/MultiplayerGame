[gd_scene load_steps=12 format=3 uid="uid://dxvc0yrhxo7ig"]

[ext_resource type="Script" path="res://levels/level.gd" id="1_0p6ud"]
[ext_resource type="Texture2D" uid="uid://chwbcf7n2ajtp" path="res://art/platforms/Platformer_spritesheet.png" id="1_augpo"]
[ext_resource type="Texture2D" uid="uid://bja0wl8tcw71c" path="res://art/backgrounds/background_01.png" id="2_no1s1"]
[ext_resource type="Texture2D" uid="uid://bujx43rcy5b85" path="res://art/backgrounds/background_02.png" id="3_6goat"]
[ext_resource type="PackedScene" uid="uid://clwa54x3i7mun" path="res://player/player.tscn" id="4_2bnqv"]
[ext_resource type="PackedScene" uid="uid://b4m6llk0ll2f" path="res://interactibles/pressure_plate/pressure_plate.tscn" id="6_3x4u6"]
[ext_resource type="PackedScene" uid="uid://co16mh8fwuyff" path="res://interactibles/door/door.tscn" id="7_8f0w2"]
[ext_resource type="PackedScene" uid="uid://b2tus6bpykn34" path="res://interactibles/chest/chest.tscn" id="8_jrpnt"]
[ext_resource type="PackedScene" uid="uid://b85px3u3qbrrg" path="res://interactibles/key_door/key_door.tscn" id="9_44lnr"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3xirn"]
texture = ExtResource("1_augpo")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(64, -64, 64, 64, -64, 64)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, 64, -64, 64)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -14, 64)
3:0/0/physics_layer_0/polygon_1/points = PackedVector2Array(-53, 2, -29, 26, -64, -64, -53, 2)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 55, 3, 15, 64)
3:1/0/physics_layer_0/polygon_1/points = PackedVector2Array(-64, 64, 13, 64, -64, -64, -64, 64)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-12, -64, 64, -64, 64, 64, -17, 64, -32, 20, -26, -39)
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:2/0 = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
0:3/0 = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 13, -64, 34, 1, 29, 37, 8, 64, -64, 64)

[sub_resource type="TileSet" id="TileSet_2ifdk"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_3xirn")

[node name="Level_01" type="Node2D" node_paths=PackedStringArray("players_container", "spawn_points")]
script = ExtResource("1_0p6ud")
players_container = NodePath("----- Players -----/PlayersContainer")
player_scene = ExtResource("4_2bnqv")
spawn_points = [NodePath("----- Players -----/SpawnPoint_0"), NodePath("----- Players -----/SpawnPoint_1")]

[node name="----- Environment -----" type="Node" parent="."]

[node name="TileMap" type="TileMap" parent="----- Environment -----"]
position = Vector2(170, 451)
scale = Vector2(0.5, 0.5)
tile_set = SubResource("TileSet_2ifdk")
format = 2
layer_0/tile_data = PackedInt32Array(131073, 131072, 2, 131074, 131072, 2, 131075, 131072, 2, 131076, 131072, 2, 131077, 131072, 2, 131078, 131072, 2, 131079, 131072, 2, 131080, 131072, 2, 131081, 131072, 2, 65545, 196608, 2, 9, 0, 2, -65527, 0, 2, -131063, 196608, 0, -131062, 65536, 0, -131061, 65536, 0, -131060, 65536, 0, -131059, 65536, 0, -65526, 65536, 1, 10, 65536, 1, 11, 65536, 1, 65547, 65536, 1, 65548, 65536, 1, 65549, 65536, 1, 13, 65536, 1, -65523, 65536, 1, -65524, 65536, 1, 12, 65536, 1, -65525, 65536, 1, 65546, 65536, 1, 131082, 131072, 2, 131083, 131072, 2, 131084, 131072, 2, 131085, 131072, 2, 131086, 131072, 2, 131087, 131072, 2, 131088, 131072, 2, 131089, 131072, 2, 131090, 131072, 2, 131091, 131072, 2, 131092, 131072, 2, 131093, 131072, 2, 131094, 131072, 2, -131058, 131072, 0, -65521, 131072, 0, 16, 131072, 0, 65553, 131072, 0, 65552, 131072, 1, 15, 131072, 1, -65522, 131072, 1, 14, 65536, 1, 65550, 65536, 1, 65551, 65536, 1, 65565, 0, 2, 29, 0, 2, -65507, 0, 2, -131043, 0, 2, -196579, 0, 1, -262115, 0, 2, -327651, 0, 2, -393187, 0, 2, -458723, 0, 2, 131095, 131072, 2, 131096, 131072, 2, 131097, 131072, 2, 131098, 131072, 2, 131099, 131072, 2, 131100, 131072, 2, 131101, 131072, 2, 131072, 131072, 2, 196607, 131072, 2, 196606, 131072, 2, 196605, 131072, 2, 196604, 131072, 2, 196603, 131072, 2, 196602, 131072, 2, 131066, 0, 3, -6, 131072, 1, 65530, 0, 3, -65542, 0, 3, -131078, 0, 3, -196614, 0, 3, -262150, 0, 3, -327686, 0, 3, -393222, 0, 3, -458758, 0, 3, -524294, 0, 3, -589830, 0, 3, -655366, 65536, 1, -655365, 65536, 1, -655364, 65536, 1, -655363, 65536, 1, -655362, 65536, 1, -655361, 65536, 1, -720896, 65536, 1, -720895, 65536, 1, -720894, 65536, 1, -720893, 65536, 1, -720892, 65536, 1, -720891, 65536, 1, -720890, 65536, 1, -720889, 65536, 1, -720888, 65536, 1, -720887, 65536, 1, -720886, 65536, 1, -720885, 65536, 1, -720884, 65536, 1, -720883, 65536, 1, -720882, 65536, 1, -720881, 65536, 1, -720880, 65536, 1, -720879, 65536, 1, -720878, 65536, 1, -720877, 65536, 1, -720876, 65536, 1, -720875, 65536, 1, -720874, 65536, 1, -720873, 65536, 1, -720872, 65536, 1, -720871, 65536, 1, -720870, 65536, 1, -720869, 65536, 1, -720868, 65536, 1, -720867, 65536, 1, -524259, 0, 2, -589795, 0, 2, -655331, 0, 2, -655367, 65536, 1, -589831, 65536, 1, -524295, 65536, 1, -458759, 65536, 1, -393223, 65536, 1, -327687, 65536, 1, -262151, 65536, 1, -196615, 65536, 1, -131079, 65536, 1, -65543, 65536, 1, -7, 65536, 1, 65529, 65536, 1, 131065, 65536, 1, 196601, 65536, 1, -655372, 65536, 1, -589836, 65536, 1, -524300, 65536, 1, -458764, 65536, 1, -393228, 65536, 1, -327692, 65536, 1, -262156, 65536, 1, -196620, 65536, 1, -131084, 65536, 1, -65548, 65536, 1, -12, 65536, 1, 65524, 65536, 1, 131060, 65536, 1, 196596, 65536, 1, -655371, 65536, 1, -589835, 65536, 1, -524299, 65536, 1, -458763, 65536, 1, -393227, 65536, 1, -327691, 65536, 1, -262155, 65536, 1, -196619, 65536, 1, -131083, 65536, 1, -65547, 65536, 1, -11, 65536, 1, 65525, 65536, 1, 131061, 65536, 1, 196597, 65536, 1, -655370, 65536, 1, -589834, 65536, 1, -524298, 65536, 1, -458762, 65536, 1, -393226, 65536, 1, -327690, 65536, 1, -262154, 65536, 1, -196618, 65536, 1, -131082, 65536, 1, -65546, 65536, 1, -10, 65536, 1, 65526, 65536, 1, 131062, 65536, 1, 196598, 65536, 1, -655369, 65536, 1, -589833, 65536, 1, -524297, 65536, 1, -458761, 65536, 1, -393225, 65536, 1, -327689, 65536, 1, -262153, 65536, 1, -196617, 65536, 1, -131081, 65536, 1, -65545, 65536, 1, -9, 65536, 1, 65527, 65536, 1, 131063, 65536, 1, 196599, 65536, 1, -655368, 65536, 1, -589832, 65536, 1, -524296, 65536, 1, -458760, 65536, 1, -393224, 65536, 1, -327688, 65536, 1, -262152, 65536, 1, -196616, 65536, 1, -131080, 65536, 1, -65544, 65536, 1, -8, 65536, 1, 65528, 65536, 1, 131064, 65536, 1, 196600, 65536, 1, -720866, 65536, 1, -655330, 65536, 1, -589794, 65536, 1, -524258, 65536, 1, -458722, 65536, 1, -393186, 65536, 1, -327650, 65536, 1, -262114, 65536, 1, -196578, 65536, 1, -131042, 65536, 1, -65506, 65536, 1, 30, 65536, 1, 65566, 65536, 1, 131102, 65536, 1, -720865, 65536, 1, -655329, 65536, 1, -589793, 65536, 1, -524257, 65536, 1, -458721, 65536, 1, -393185, 65536, 1, -327649, 65536, 1, -262113, 65536, 1, -196577, 65536, 1, -131041, 65536, 1, -65505, 65536, 1, 31, 65536, 1, 65567, 65536, 1, 131103, 65536, 1, -720864, 65536, 1, -655328, 65536, 1, -589792, 65536, 1, -524256, 65536, 1, -458720, 65536, 1, -393184, 65536, 1, -327648, 65536, 1, -262112, 65536, 1, -196576, 65536, 1, -131040, 65536, 1, -65504, 65536, 1, 32, 65536, 1, 65568, 65536, 1, 131104, 65536, 1, -720863, 65536, 1, -655327, 65536, 1, -589791, 65536, 1, -524255, 65536, 1, -458719, 65536, 1, -393183, 65536, 1, -327647, 65536, 1, -262111, 65536, 1, -196575, 65536, 1, -131039, 65536, 1, -65503, 65536, 1, 33, 65536, 1, 65569, 65536, 1, 131105, 65536, 1, -720862, 65536, 1, -655326, 65536, 1, -589790, 65536, 1, -524254, 65536, 1, -458718, 65536, 1, -393182, 65536, 1, -327646, 65536, 1, -262110, 65536, 1, -196574, 65536, 1, -131038, 65536, 1, -65502, 65536, 1, 34, 65536, 1, 65570, 65536, 1, 131106, 65536, 1, -720861, 65536, 1, -655325, 65536, 1, -589789, 65536, 1, -524253, 65536, 1, -458717, 65536, 1, -393181, 65536, 1, -327645, 65536, 1, -262109, 65536, 1, -196573, 65536, 1, -131037, 65536, 1, -65501, 65536, 1, 35, 65536, 1, 65571, 65536, 1, 131107, 65536, 1, -720860, 65536, 1, -655324, 65536, 1, -589788, 65536, 1, -524252, 65536, 1, -458716, 65536, 1, -393180, 65536, 1, -327644, 65536, 1, -262108, 65536, 1, -196572, 65536, 1, -131036, 65536, 1, -65500, 65536, 1, 36, 65536, 1, 65572, 65536, 1, 131108, 65536, 1, 65544, 131072, 2, 65543, 0, 0, -5, 65536, 0, -4, 65536, 0, -3, 65536, 0, -2, 131072, 0, -196580, 65536, 0, -196581, 65536, 0, -196582, 65536, 0, -196583, 65536, 0, -196584, 196608, 0, -262130, 196608, 1, -262132, 196608, 0, -262131, 65536, 0)

[node name="ParallaxBackground" type="ParallaxBackground" parent="----- Environment -----"]

[node name="ParallaxTrees" type="ParallaxLayer" parent="----- Environment -----/ParallaxBackground"]
motion_scale = Vector2(0.25, 1)
motion_mirroring = Vector2(1334, 0)

[node name="Sprite2D" type="Sprite2D" parent="----- Environment -----/ParallaxBackground/ParallaxTrees"]
position = Vector2(-199, -165)
texture = ExtResource("2_no1s1")
centered = false

[node name="ParallaxLayer" type="ParallaxLayer" parent="----- Environment -----/ParallaxBackground"]
motion_scale = Vector2(0.65, 1)
motion_mirroring = Vector2(1334, 0)

[node name="Sprite2D" type="Sprite2D" parent="----- Environment -----/ParallaxBackground/ParallaxLayer"]
position = Vector2(-202, -166)
texture = ExtResource("3_6goat")
centered = false

[node name="----- Interactibles ------" type="Node" parent="."]

[node name="PressurePlate" parent="----- Interactibles ------" instance=ExtResource("6_3x4u6")]
position = Vector2(-120, 383)

[node name="Door" parent="----- Interactibles ------" instance=ExtResource("7_8f0w2")]
position = Vector2(102, 581)

[node name="Chest" parent="----- Interactibles ------" instance=ExtResource("8_jrpnt")]
position = Vector2(-111, 581)
scale = Vector2(-1, 1)

[node name="KeyDoor" parent="----- Interactibles ------" instance=ExtResource("9_44lnr")]
position = Vector2(1990, 261)

[node name="BridgePlate1" parent="----- Interactibles ------" instance=ExtResource("6_3x4u6")]
position = Vector2(972, 191)

[node name="BridgePlate2" parent="----- Interactibles ------" node_paths=PackedStringArray("plate_up", "plate_down") instance=ExtResource("6_3x4u6")]
position = Vector2(1092, 191)
plate_up = NodePath("../BridgePlate1/PlateUp")
plate_down = NodePath("../BridgePlate1/PlateDown")

[node name="----- Players -----" type="Node" parent="."]

[node name="PlayersContainer" type="Node2D" parent="----- Players -----"]

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="----- Players -----"]
_spawnable_scenes = PackedStringArray("res://player/player.tscn")
spawn_path = NodePath("../PlayersContainer")
spawn_limit = 2

[node name="SpawnPoint_0" type="Node2D" parent="----- Players -----"]
position = Vector2(170, 518)

[node name="SpawnPoint_1" type="Node2D" parent="----- Players -----"]
position = Vector2(312, 522)

[connection signal="toggle" from="----- Interactibles ------/PressurePlate" to="----- Interactibles ------/Door" method="activate"]
